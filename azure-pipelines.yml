# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

#Pipeline Name
name: $(Date:yyyyMMdd)$(Rev:.r)

pool:
  vmImage: 'ubuntu-latest'
stages:
  - stage: Build
    jobs:
      - job: JobOne
        steps:
          - script: echo Hello, world!
            displayName: 'Run a one-line script'
            
          - script: |
              Write-Host Add other tasks to build, test, and deploy your project.
              Write-Host See https://aka.ms/yaml
            displayName: 'Run a multi-line script'
          - task: CopyFiles@2
            displayName: "Copy Terraform Files"
            inputs:
              SourceFolder: 'terraform'
              Contents: '**'
              TargetFolder: '$(build.artifactstagingdirectory)/drop-terraform'
              

  - stage: deploy
    jobs:
      - job: JobTwo
        steps:  
        - task: PowerShell@2
          inputs:
            targetType: 'inline'
            script: |
              # Write your PowerShell commands here.
              Write-Host "Hello World"


trigger: none